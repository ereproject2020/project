(this["webpackJsonpvocal-difficulty-analyzer"]=this["webpackJsonpvocal-difficulty-analyzer"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){},,,,,,,,,,function(e,t,a){},,,function(e,t,a){e.exports=a.p+"static/media/reset.a6b1cf7a.svg"},function(e,t,a){e.exports=a(60)},,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/magnifier.ba662840.png"},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(23),o=a.n(r),i=(a(31),a(2)),c=a(3),l=a(5),u=a(4),d=a(6),m=a(7),p=a.n(m),f=a(8),h=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){console.log("Criteria");return s.a.createElement("div",{style:{border:"1px solid black",pfadding:"8px",margin:"8px"}},"difficulty Criteria")}}]),t}(n.Component),g=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){console.log("Guide");return s.a.createElement("div",{style:{border:"1px solid black",padding:"8px",margin:"8px"}},"This extension is to help users to calibrate vocal difficulty")}}]),t}(n.Component),v=a(1),b=a.n(v);b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.xsrfHeaderName="X-CSRFToken";var x=Object(n.createContext)(),E=x.Provider,y=x.Consumer,O=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={userInfo:{userId:"",name:"",image:""},songInfo:[],comment:[]},a.actions={setUserInfo:function(e){a.setState({userInfo:e})},setSongInfo:function(e){a.setState({songInfo:[e[0]]})},setComment:function(e){a.setState({comment:[].concat(e)})}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e={state:this.state,actions:this.actions};return s.a.createElement(E,{value:e},this.props.children)}}]),t}(n.Component);function I(e){return function(t){return s.a.createElement(y,null,(function(a){var n=a.state,r=a.actions;return s.a.createElement(e,Object.assign({},t,{userInfo:n.userInfo,songInfo:n.songInfo,comment:n.comment,setId:r.setId,setSongInfo:r.setSongInfo,setComment:r.setComment,setUserInfo:r.setUserInfo}))}))}}a(50),a(51);b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.xsrfHeaderName="X-CSRFToken";var j=I(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={isModalOpen:!1},a.openModal=function(){a.setState({isModalOpen:!0})},a.closeModal=function(){a.setState({isModalOpen:!1})},a.chooseSong=function(){var e=Object(f.a)(p.a.mark((function e(t){var n,s,r,o,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,s=n.setSongInfo,r=n.setComment,o=n.onMode,i=a.props.songList.filter((function(e){return e.id===parseInt(t.target.id)})),console.log(i),s(i),e.next=6,b.a.get("/api/comment/",{params:{song:t.target.id}}).then((function(e){r(e.data)})).then(o());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.songList.map((function(t){return s.a.createElement("div",{key:t.id,className:"songList"},s.a.createElement("div",{className:"container2"},s.a.createElement("div",{className:"label1"},"\uc81c\ubaa9"),s.a.createElement("div",{className:"label2"},"\uac00\uc218"),s.a.createElement("div",{className:"title"}," ",t.title),s.a.createElement("div",{className:"singer"}," ",t.singer),s.a.createElement("button",{id:t.id,className:"goldenrod",onClick:e.chooseSong},"\uc120\ud0dd")))}));return s.a.createElement("div",null,t)}}]),t}(n.Component)),k=a(24);a(52),a(12);b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.xsrfHeaderName="X-CSRFToken";var C=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={mode:"default",title:"",singer:""},a.handleMode=function(){a.props.onMode("search")},a.createSong=function(){a.setState({mode:"create"})},a.handleChange=function(e){var t=e.target,n=t.name;a.setState(Object(k.a)({},n,t.value))},a.handleSubmit=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,b.a.post("/api/song/",{title:a.state.title,singer:a.state.singer});case 3:a.props.onMode(a.state.title);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return"default"===this.state.mode?s.a.createElement("div",{className:"default"},s.a.createElement("div",{style:{"margin-top":"4vh"}},s.a.createElement("h4",null,"\ucc3e\uc73c\uc2dc\ub294 \ub178\ub798\uac00 \uc5c6\ub098\uc694? ")),s.a.createElement("div",{style:{"margin-top":"1vh"}},s.a.createElement("h4",null," \ub2e4\ub978 \uc0ac\uc6a9\uc790\ub97c \uc704\ud574 \ub178\ub798 \uc815\ubcf4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.")),s.a.createElement("button",{id:"submitsong",className:"blue",onClick:this.createSong},"\ub178\ub798\uc815\ubcf4 \uc785\ub825"),s.a.createElement("button",{id:"backsonglist",className:"blue",type:"button",onClick:this.props.handleshowSrch},"\ub4a4\ub85c")):"create"===this.state.mode?s.a.createElement("div",{className:"create"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"title"},s.a.createElement("input",{name:"title",type:"text",placeholder:"\uc81c\ubaa9",onChange:this.handleChange,value:this.state.title})),s.a.createElement("div",{className:"singer"},s.a.createElement("input",{name:"singer",type:"text",placeholder:"\uac00\uc218",onChange:this.handleChange,value:this.state.singer})),s.a.createElement("button",{className:"blue",type:"submit"},"\ub178\ub798 \ucd94\uac00"))):void 0}}]),t}(n.Component);a(53);b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.xsrfHeaderName="X-CSRFToken";var S=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={songname:"",rawsongname:"",show:"search",songList:[{}]},n.showContent=function(){var e=n.state.show;return"criteria"===e?s.a.createElement(h,null):"guide"===e?s.a.createElement(g,null):"list"===e?s.a.createElement("div",null,s.a.createElement(j,{onMode:n.modeUpdate,songList:n.state.songList}),s.a.createElement(C,{onMode:n.backToSearch,handleshowSrch:n.handleshowSrch})):"create"===e?s.a.createElement(C,{onMode:n.backToSearch,handleshowSrch:n.handleshowSrch}):"search"===e?s.a.createElement("div",null,s.a.createElement("img",{id:"magnifier",src:a(54),alt:"\ub3cb\ubcf4\uae30"}),s.a.createElement("h2",null,"\ub178\ub798\uc81c\ubaa9\uc744 \uac80\uc0c9\ud574\uc8fc\uc138\uc694")):void 0},n.backToSearch=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("/api/song/",{params:{title:t}}).then((function(e){return n.setState({show:"list",songList:e.data})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.modeUpdate=function(){n.props.onMode("result")},n.handleChange=function(e){e.preventDefault();var t=e.target.value,a=t.toLowerCase().replace(/(\s*)/g,"");n.setState({rawsongname:t,songname:a})},n.handleSubmit=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,b.a.get("/api/song/",{params:{title:n.state.songname}}).then((function(e){return n.setState({songList:e.data})}));case 3:0===n.state.songList.length?n.setState({show:"create"}):n.setState({show:"list"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleshowCri=function(){n.setState({show:"criteria"})},n.handleshowGui=function(){n.setState({show:"guide"})},n.handleshowSrch=function(){n.setState({show:"search"})},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"border"},s.a.createElement("div",null,s.a.createElement("form",{className:"search",onSubmit:this.handleSubmit},s.a.createElement("input",{className:"input",name:"rawsongname",placeholder:"\ub178\ub798 \uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694",onChange:this.handleChange,value:this.state.rawsongname}),s.a.createElement("button",{type:"submit"},"search"))),s.a.createElement("div",{className:"container1"},s.a.createElement("button",{className:"guide orange",type:"submit",onClick:this.handleshowGui},"\ub3c4\uc6c0\ub9d0"),s.a.createElement("button",{className:"rate pink",type:"submit",onClick:this.handleshowCri},"\ub09c\uc774\ub3c4"),s.a.createElement("div",{className:"content"},this.showContent())))}}]),t}(n.Component),w=a(10);a(55);b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.xsrfHeaderName="X-CSRFToken";var N=I(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={loading:!0,difficulty:0},a.setDifficulty=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("/api/comment/",{params:{song:a.props.song.id}}).then(function(e){var t=0;for(var a in e.data)t=t+e.data[a].starsIdx+e.data[a].starsRating;this.setState({difficulty:(t/e.data.length).toFixed(2)}),console.log("calculate difficulty")}.bind(Object(w.a)(a))).then(a.setState({loading:!1})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)}))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.difficulty!==e.difficulty&&this.setState({difficulty:this.props.difficulty})}},{key:"render",value:function(){var e=this.props.song;return!1===this.state.loading?s.a.createElement("div",{className:"container3"},s.a.createElement("div",{className:"label1"},"\uc81c\ubaa9"),s.a.createElement("div",{className:"label2"},"\uac00\uc218"),s.a.createElement("div",{className:"title"}," ",e.title),s.a.createElement("div",{className:"singer"}," ",e.singer),s.a.createElement("div",{className:"difficulty"}," \ub09c\uc774\ub3c4",s.a.createElement("h2",{style:{margin:"auto"}},this.state.difficulty)),s.a.createElement("div",{className:"ratenumber"},this.props.comment.length,"\uba85\uc774 \ud3c9\uac00")):(this.setDifficulty(),s.a.createElement("div",null,"loading.."))}}]),t}(n.Component)),R=a(25),M=a.n(R),U=(a(56),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e)))._modeSetting=function(){if(a.state.update)return s.a.createElement("div",{className:"reset__btn"},s.a.createElement("img",{src:M.a,alt:"reset",onClick:function(e){a._resetRating(e)}}))},a.state={update:a.props.update},a._resetRating=a._resetRating.bind(Object(w.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.update!==e.update&&this.setState({update:this.props.update})}},{key:"_resetRating",value:function(e){"mouseleave"===e.type||"onTouchEnd"===e.type?this.props.onChange(this.props.starsIdx,this.props.starsRating):"click"===e.type&&this.props.onChange(0,0)}},{key:"_makeStars",value:function(){for(var e=this,t=[],a=function(a){var n="star__rate";0!==e.props.rating?a<=e.props.idx&&(e.props.idx===a&&e.props.rating%2!==0?n+=" is-half-selected":n+=" is-selected"):0!==e.props.starsRating&&a<=e.props.starsIdx&&(e.props.starsIdx===a&&e.props.starsRating%2!==0?n+=" is-half-selected":n+=" is-selected"),e.state.update?t.push(s.a.createElement("label",{key:a,className:n,onClick:function(){e.props.onChange(e.props.idx,e.props.rating)},onMouseOver:function(t){e.props._mouseOver(t,a)},onMouseMove:function(t){e.props._mouseOver(t,a)},onMouseLeave:function(t){e._resetRating(t)},onTouchMove:function(t){e.props._mouseOver(t,a)},onTouchStart:function(t){e.props._mouseOver(t,a)},onTouchEnd:function(t){e._resetRating(t)}})):t.push(s.a.createElement("label",{key:a,className:n}))},n=0;n<10;n+=2)a(n);return t}},{key:"render",value:function(){return s.a.createElement("div",{className:"starRate__wrap"},this._makeStars())}}]),t}(n.Component)),_=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={idx:0,rating:0,starsIdx:a.props.starsIdx,starsRating:a.props.starsRating},a._mouseOver=function(e,t){if(e.persist(),e.nativeEvent.offsetX>e.target.clientWidth/2){a.setState({idx:t,rating:2})}else{a.setState({idx:t,rating:1})}},a.handleChange=function(e,t){a.setState({idx:0,rating:0,starsIdx:e,starsRating:t}),a.props.starUpdate(a.state)},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(U,{_mouseOver:this._mouseOver,onChange:this.handleChange,idx:this.state.idx,rating:this.state.rating,starsIdx:this.state.starsIdx,starsRating:this.state.starsRating,update:this.props.update})}}]),t}(n.Component);_.defaultProp={starsIdx:0,starsRating:0};var T=_;a(57);b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.xsrfHeaderName="X-CSRFToken";var L=I(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={update:!1,text:"",starsIdx:a.props.info.starsIdx,starsRating:a.props.info.starsRating},a.authorized=!1,a.handleUpdate=Object(f.a)(p.a.mark((function e(){var t,n,s,r,o,i,c,l,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.update,s=t.text,r=t.starsIdx,o=t.starsRating,i=a.props,c=i.info,l=i.comment,u=i.setComment,!n){e.next=8;break}return u(l.map((function(e){return c.id===e.id?{id:a.props.info.id,text:s,starsIdx:r,starsRating:o,userId:c.userId,userName:c.userName,userImage:c.userImage,song:a.props.songInfo[0].id}:e}))),e.next=6,b.a.put("/api/comment/".concat(a.props.info.id,"/"),{id:a.props.info.id,text:s,starsIdx:r,starsRating:o,userId:c.userId,userName:c.userName,userImage:c.userImage,song:a.props.songInfo[0].id}).catch((function(e){return console.log(e.message)}));case 6:e.next=9;break;case 8:a.setState({text:c.text});case 9:a.setState({update:!n});case 10:case"end":return e.stop()}}),e)}))),a.handleRemove=Object(f.a)(p.a.mark((function e(){var t,n,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.setComment,s=t.comment,e.next=3,b.a.delete("/api/comment/".concat(a.props.info.id));case 3:n(s.filter((function(e){return e.id!==a.props.info.id})));case 4:case"end":return e.stop()}}),e)}))),a.handleChange=function(e){a.setState({text:e.target.value})},a.handleUpdateStar=function(e){a.setState({starsIdx:e.starsIdx,starsRating:e.starsRating})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.update;return this.props.info.userId===this.props.userInfo.userId&&(this.authorized=!0),s.a.createElement("div",{className:"text"},e?s.a.createElement("div",{className:"opinion"},s.a.createElement("textarea",{name:"text",onChange:this.handleChange,value:this.state.text})):s.a.createElement("div",{className:"opinion"},this.props.info.text),s.a.createElement(T,{starsIdx:this.state.starsIdx,starsRating:this.state.starsRating,update:this.state.update,starUpdate:this.handleUpdateStar}),s.a.createElement("span",{className:"rating"},this.state.starsIdx+this.state.starsRating,"/10"),this.authorized?s.a.createElement("div",{className:"updatebutton"},s.a.createElement("button",{id:"updatesubmit",className:"goldenrod",type:"submit",onClick:this.handleUpdate},e?"\uc785\ub825":"\uc218\uc815"),s.a.createElement("button",{id:"delete",className:"goldenrod",type:"submit",onClick:this.handleRemove},"\uc0ad\uc81c")):s.a.createElement("div",{className:"updatebutton"}))}}]),t}(n.Component)),F=(a(58),a(22),I(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={index:0},a.difficulty=0,a.moreReview=function(){a.setState({index:a.state.index+5})},a.pastReview=function(){a.setState({index:a.state.index-5})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.comment;this.difficulty=0;var t=e.map(function(e,t,a){if(this.difficulty=this.difficulty+e.starsIdx+e.starsRating,t>a.length-this.state.index-5&&t<a.length-this.state.index)return s.a.createElement("div",{className:"textlist",key:t},s.a.createElement("img",{className:"picture",src:e.userImage}),s.a.createElement(L,{info:e,onMode:this.props.onMode,setCommentUpdate:this.props.setCommentUpdate}))}.bind(this)),a=(this.difficulty/e.length).toFixed(2),n=this.props.songInfo;return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement(N,{song:n[0],difficulty:a}),this.props.comment[0]?s.a.createElement("div",null," ",t):s.a.createElement("div",null,s.a.createElement("h2",null,"\uc774 \ub178\ub798\uc758 \uccab\ubc88\uc9f8 \ub313\uae00\uc744 \uc791\uc131\ud574\uc8fc\uc138\uc694."))),s.a.createElement("div",{id:"buttons"},s.a.createElement("button",{id:"past",type:"submit",onClick:this.pastReview},"\u25c1"),s.a.createElement("button",{id:"more",type:"submit",onClick:this.moreReview},"\u25b7")))}}]),t}(n.Component))),A=a(11),D=a.n(A);b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.xsrfHeaderName="X-CSRFToken";var X=I(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).responseComment=function(){var e=Object(f.a)(p.a.mark((function e(t){var n,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.props,s=n.userInfo,(0,n.setUserInfo)({userId:t.googleId,name:t.profileObj.name,image:t.profileObj.imageUrl}),0!==s.userId&&a.props.onModeComment();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.responseLogin=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,a.props.setUserInfo)({userId:t.googleId,name:t.profileObj.name,image:t.profileObj.imageUrl});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.responseFail=function(e){console.error(e)},a.responseLogout=function(){var e=a.props.setUserInfo;alert("\ub85c\uadf8\uc544\uc6c3 \ub418\uc5c8\uc2b5\ub2c8\ub2e4."),e({userId:"",name:"",image:""}),console.log("logout")},a.showButton=function(){return a.props.userInfo.userId?s.a.createElement("div",null,s.a.createElement(A.GoogleLogout,{clientId:"759462615946-ok4nmhfk4j05bv53s7mbgfs22fm0d4og.apps.googleusercontent.com",buttonText:"Logout",onLogoutSuccess:a.responseLogout})):s.a.createElement("div",null,s.a.createElement(D.a,{clientId:"759462615946-ok4nmhfk4j05bv53s7mbgfs22fm0d4og.apps.googleusercontent.com",buttonText:"\ub313\uae00 \uc4f0\uae30",onSuccess:a.responseComment,onFailure:a.responseFail,cookiePolicy:"single_host_origin"}),s.a.createElement(D.a,{clientId:"759462615946-ok4nmhfk4j05bv53s7mbgfs22fm0d4og.apps.googleusercontent.com",buttonText:"\ub85c\uadf8\uc778",onSuccess:a.responseLogin,onFailure:a.responseFail,cookiePolicy:"single_host_origin"}))},a.state={id:"",name:"",image:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return console.log(this.props.userInfo),s.a.createElement("div",null,this.showButton())}}]),t}(s.a.Component)),H=I(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={difficultyUpdate:0},a.onModeComment=function(){a.props.onMode("comment")},a.onModeSearch=function(){a.props.onMode("search")},a.setDifficultyUpdate=function(e){a.setState({difficultyUpdate:e})},a.showButton=function(){return a.props.userInfo.userId?s.a.createElement("button",{id:"writecomment",className:"blue",onClick:a.onModeComment}," \uc758\uacac \ub0a8\uae30\uae30"):s.a.createElement("span",null)},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(F,{onMode:this.props.onMode}),s.a.createElement("div",{id:"textresult"},s.a.createElement("button",{id:"before",className:"blue",type:"button",onClick:this.onModeSearch}," \ub4a4\ub85c "),this.showButton()),s.a.createElement("div",{id:"login"},s.a.createElement(X,{onModeComment:this.onModeComment})))}}]),t}(n.Component));a(59);b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.xsrfHeaderName="X-CSRFToken";var B=I(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={userId:a.props.userInfo.userId,userName:a.props.userInfo.name,userImage:a.props.userInfo.image,song:a.props.songInfo[0].title,text:"",starsIdx:"",starsRating:""},a.handleMode=function(){a.props.onMode("result")},a.handleChange=function(e){a.setState({text:e.target.value})},a.handleUpdateStar=function(e){a.setState({starsIdx:e.starsIdx,starsRating:e.starsRating})},a.handleSubmit=function(){var e=Object(f.a)(p.a.mark((function e(t){var n,s,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,s=n.setComment,r=n.comment,t.preventDefault(),e.next=4,b.a.post("/api/comment/",{song:a.props.songInfo[0].id,text:a.state.text,starsIdx:a.state.starsIdx,starsRating:a.state.starsRating,userId:a.state.userId,userName:a.state.userName,userImage:a.state.userImage}).then((function(e){s(r.concat({id:e.data.id,song:a.props.songInfo[0].id,text:a.state.text,starsIdx:a.state.starsIdx,starsRating:a.state.starsRating,userId:a.state.userId,userName:a.state.userName,userImage:a.state.userImage})),console.log(e.data)}));case 4:a.handleMode();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(N,{song:this.props.songInfo[0]}),s.a.createElement("form",{id:"comment",onSubmit:this.handleSubmit},s.a.createElement("img",{src:this.state.userImage,alt:"\uc0ac\uc6a9\uc790 \uc774\ubbf8\uc9c0"}),s.a.createElement("textarea",{name:"text",placeholder:"\uc774\uacf3\uc5d0 \uc758\uacac\uc744 \ub0a8\uaca8\uc8fc\uc138\uc694",onChange:this.handleChange,value:this.state.text}),s.a.createElement("button",{id:"submit",className:"blue",type:"submit"},"\ub313\uae00 \uc785\ub825"),s.a.createElement("span",{id:"words"},s.a.createElement("h3",null,"\ub2f9\uc2e0\uc774 \ud3c9\uac00\ud55c \ub09c\uc774\ub3c4\ub294?")),s.a.createElement(T,{id:"commentstar",update:!0,starUpdate:this.handleUpdateStar}),s.a.createElement("span",{id:"commentrating"},this.state.starsIdx+this.state.starsRating,"/10"),s.a.createElement("button",{id:"back",className:"blue",type:"button",onClick:this.handleMode},"\ub4a4\ub85c")))}}]),t}(n.Component)),z=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={mode:"",isModalOpen:!1},a.handleMode=function(e){a.setState({mode:e})},a.chooseContent=function(){var e=a.state.mode;return"result"===e?s.a.createElement(H,{onMode:a.handleMode}):"comment"===e?s.a.createElement(B,{onMode:a.handleMode}):s.a.createElement(S,{onMode:a.handleMode})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return console.log("app"),console.log(this.state.mode),s.a.createElement("div",null,s.a.createElement(O,null,this.chooseContent()))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[26,1,2]]]);
//# sourceMappingURL=main.8cba2166.chunk.js.map